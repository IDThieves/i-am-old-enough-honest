var traverse = require('traverse');

function foo (data) {
  console.log('###' + data + '###');

  traverse(data).forEach(function (value) {

    if (this.isRoot) {
      return;
    }

    if (this.isLeaf) {
        var key = this.key || this.parent.key;
        if (key) {

          console.log(value);
        }
    }
  });
}

foo(null)
foo(undefined)
foo(false)
foo('')
foo({
              first: 'John',
              last: 'Smith',
              ccn: '9999999999',
              line: 'foo',
              userId: 555645465,
              address: {
                  line: ['123 Main street', 'Apt 200', 'Suite 100'],
                  bar: {
                      line: '123',
                      extra: 123456
                  },
                  city: 'Pittsburgh',
                  last: 'Jones',
                  foo: [{
                      email: 'adam@hapijs.com',
                      baz: 'another string',
                      line: 'another string'
                  }]
              }
          })
foo({
              password: 12345,
              email: 'adam@hapijs.com'
          })
